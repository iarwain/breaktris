; T - config file
; Should be used with orx v.1.3+


; --- Main ---

[Game]
TetrominoList   = TetroT # TetroI # TetroO # TetroL # TetroJ # TetroS # TetroZ

[T]
TetroBrickSize  = (45, 45, 1)
TetrominoList   = @Game
FallDelayList   = 0.8 # 0.05
MoveDelayList   = 0.3 # 0.075
GridOrigin      = (-225, -540, 0.5)
GridSize        = (10, 22, 0)


; --- Viewport/Camera ---

[TViewport]
Camera            = TCamera
RelativeSize      = (0.5, 1, 0)
RelativePosition  = top right
BackgroundColor   = (0, 0, 0)

[TCamera]
FrustumWidth      = 720
FrustumHeight     = 900
FrustumNear       = 0
FrustumFar        = 2
Position          = (0, 0, 0)


; --- Inputs ---

[InGameInput]
KEY_LEFT  = MoveLeft
KEY_RIGHT = MoveRight
KEY_DOWN  = SpeedUp
KEY_UP    = RotateCW


; --- Tracks ---

[TetrominoLand]
KeepInCache = true
0           = Object.AddSound ^ BlockPlaced # ; Plays BlockPlaced sound
              Object.SetLifeTime ^ 2          ; Deletes tetromino (parent only) after 2 seconds


; --- Objects ---

[TScene]
ChildList = TBG # TInstruct # BottomBorder # TLeftBorder # TRightBorder

[TBG]
ParentCamera  = TCamera
Graphic       = TBG
Position      = (0,0,0.95)
Scale         = 1
Texture       = ../../data/tetris-gfx/BG.png
BlendMode     = none
Pivot         = center

[BrickTetro@BrickTemplate]
IsBBrick      = false
Pivot         = Center
Graphic       = BrickTetro
Texture       = ../../data/tetris-gfx/Block-Inner-Square.png
ChildList     = TetroGlow
Body          = BrickTetro
PartList      = BrickTetro
TopLeft       = (-22, -22, 0)
BottomRight   = (22, 22, 0)
HP            = 1

[TetroGlow]
Position      = (0, 0, 0.01)
Graphic       = TetroGlow
Pivot         = center
Texture       = ../../data/tetris-gfx/Block-Back-Square.png

[TetroTemplate]
TetroBrickSize= @T

[TetroT@TetroTemplate]
SpawnOffset   = (4.5, 1.5, 0)
Color         = (255, 147, 30)
TetroPosList  = (0, 0, 0) # (-1, 0, 0) # (1, 0, 0) # (0, 1, 0)
RotationList  = 0 # 90 # 180 # 270

[TetroI@TetroTemplate]
SpawnOffset   = (4.5, 1.5, 0)
Color         = (77, 77, 77)
TetroPosList  = (0, -1, 0) # (0, 0, 0) # (0, 1, 0) # (0, 2, 0)
RotationList  = 0 # 90

[TetroL@TetroTemplate]
SpawnOffset   = (4.5, 1.5, 0)
Color         = (63, 169, 245)
TetroPosList  = (0, -1, 0) # (0, 0, 0) # (0, 1, 0) # (1, 1, 0)
RotationList  = 0 # 90 # 180 # 270

[TetroJ@TetroTemplate]
SpawnOffset   = (4.5, 1.5, 0)
Color         = (122, 201, 67)
TetroPosList  = (0, -1, 0) # (0, 0, 0) # (0, 1, 0) # (-1, 1, 0)
RotationList  = 0 # 90 # 180 # 270

[TetroZ@TetroTemplate]
SpawnOffset   = (4.5, 1.5, 0)
Color         = (189, 204, 212)
TetroPosList  = (0, -1, 0) # (-1, -1, 0) # (0, 0, 0) # (1, 0, 0)
RotationList  = 0 # 90

[TetroS@TetroTemplate]
SpawnOffset   = (4.5, 1.5, 0)
Color         = (255, 29, 37)
TetroPosList  = (0, -1, 0) # (1, -1, 0) # (0, 0, 0) # (-1, 0, 0)
RotationList  = 0 # 90

[TetroO@TetroTemplate]
SpawnOffset   = (4.0, 2.0, 0)
Color         = (255, 123, 172)
TetroPosList  = (-0.5, -0.5, 0) # (0.5, -0.5, 0) # (-0.5, 0.5, 0) # (0.5, 0.5, 0)
RotationList  = 0 # 90 # 180 # 270

[RotateLeft]
Sound         = ../../data/audio/TetrisRotateLeft.wav
KeepInCache   = true

[RotateRight]
Sound         = ../../data/audio/TetrisRotateRight.wav
KeepInCache   = true

[BlockPlaced]
Sound         = ../../data/audio/TetrisBlockPlaced.wav
KeepInCache   = true

[LineCleared]
Sound         = ../../data/audio/TetrisLineCleared.wav
KeepInCache   = true

[TInstruct]
Graphic       = TInstruct
Pivot         = Center
Texture       = ../../data/tetris-gfx/Instructions.png
Position      = (0,0,0.1)
ParentCamera  = TCamera
LifeTime      = 3
FXList        = InstructFX
FXDelayList   = 2.5

[BottomBorder]
ParentCamera  = TCamera
Graphic       = BottomBorder
Position      = (0.12,0.5,0.5)
Rotation      = 90
Texture       = ../../data/breakout-gfx/Wall.png
Pivot         = (15,465,0)
Body          = WallBody

[TLeftBorder]
ParentCamera  = TCamera
Graphic       = RightBorder
Position      = (-0.5,-0.5,0.5)
Rotation      = 180
UseParentSpace= position
Scale         = (1, 2, 1)
Texture       = ../../data/breakout-gfx/Wall.png
Pivot         = (15,465,0)
Body          = WallBody

[TRightBorder]
ParentCamera  = TCamera
Graphic       = RightBorder
Position      = (0.5,-0.5,0.5)
UseParentSpace= position
Scale         = (1, 2, 1)
Texture       = ../../data/breakout-gfx/Wall.png
Pivot         = (15,465,0)
Body          = WallBody
